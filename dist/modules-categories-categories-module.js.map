{"version":3,"sources":["./src/app/modules/categories/categories/categories.component.html","./src/app/modules/categories/categories.module.ts","./src/app/modules/categories/categories/categories.component.css","./src/app/modules/categories/categories/categories.component.ts"],"names":[],"mappings":"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","file":"modules-categories-categories-module.js","sourcesContent":["export default \"<div class=\\\"main-content\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"header\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-md-12 text-right\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-info btn-fill\\\" (click)=\\\"newCategory()\\\" data-toggle=\\\"modal\\\"\\r\\n                  data-target=\\\"#modalProduct\\\">\\r\\n                  <i class=\\\"fa fa-plus\\\"></i> Nueva Categoría\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n            <hr>\\r\\n          </div>\\r\\n          <div class=\\\"content\\\">\\r\\n            <div class=\\\"fresh-datatables table-responsive\\\">\\r\\n              <table id=\\\"datatablesProduct\\\" class=\\\"table table-striped table-no-bordered table-hover\\\" cellspacing=\\\"0\\\"\\r\\n                width=\\\"100%\\\" style=\\\"width:100%\\\">\\r\\n                <thead>\\r\\n                  <tr>\\r\\n                    <th>{{ dataTable.headerRow[0] }}</th>\\r\\n                    <th>{{ dataTable.headerRow[1] }}</th>\\r\\n                    <th>{{ dataTable.headerRow[2] }}</th>\\r\\n                    <th>{{ dataTable.headerRow[3] }}</th>\\r\\n                    <th>{{ dataTable.headerRow[4] }}</th>\\r\\n                  </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                  <tr *ngFor=\\\"let category of arrayCategories; let i = index\\\">\\r\\n                    <td>{{i+1}}</td>\\r\\n                    <td>{{category.id_category | slice:8}}</td>\\r\\n                    <td>{{category.nombre}}</td>\\r\\n                    <td>\\r\\n                      <button type=\\\"submit\\\" class=\\\"btn btn-fill btn-primary btn-sm\\\" (click)=\\\"selectCategory(category)\\\"\\r\\n                        data-toggle=\\\"modal\\\" data-target=\\\"#modalProduct\\\">\\r\\n                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button type=\\\"submit\\\" class=\\\"btn btn-fill btn-danger btn-sm\\\"\\r\\n                        (click)=\\\"deleteCategory(category.id_category)\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- modal product -->\\r\\n<div class=\\\"modal fade\\\" id=\\\"modalProduct\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"modalProductLabel\\\">\\r\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span\\r\\n            aria-hidden=\\\"true\\\">&times;</span></button>\\r\\n        <h4 class=\\\"modal-title\\\" id=\\\"modalProductLabel\\\">{{isEdit?'Editar Categoría':'Nueva Categoría'}}</h4>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <form #formProduct=\\\"ngForm\\\" action=\\\"\\\" class=\\\"form-horizontal\\\"\\r\\n          (ngSubmit)='addCategory(formProduct.value, formProduct.valid)' novalidate action=\\\"/\\\" method=\\\"get\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n              <input type=\\\"text\\\" readonly class=\\\"form-control\\\" name=\\\"id_category\\\" id=\\\"id_category\\\" placeholder=\\\"ID\\\"\\r\\n                [(ngModel)]=\\\"category.id_category\\\" #id_category=\\\"ngModel\\\" required pattern=\\\"\\\">\\r\\n              <small [hidden]=\\\"id_category.valid || (id_category.pristine && !formProduct.submitted)\\\"\\r\\n                class=\\\"text-danger\\\">\\r\\n                Obligatorio</small>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"nombre\\\" id=\\\"nombre\\\" placeholder=\\\"Nombre de la categoría\\\"\\r\\n                [(ngModel)]=\\\"category.nombre\\\" #nombre=\\\"ngModel\\\" required pattern=\\\"\\\">\\r\\n              <small [hidden]=\\\"nombre.valid || (nombre.pristine && !formProduct.submitted)\\\" class=\\\"text-danger\\\">\\r\\n                Obligatorio</small>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n              <button [disabled]='!formProduct.valid' type=\\\"submit\\\" class=\\\"btn btn-fill btn-success btn-wd btn-block\\\">\\r\\n                <i *ngIf=\\\"isEdit\\\" class=\\\"fa fa-edit\\\"></i>\\r\\n                <i *ngIf=\\\"!isEdit\\\" class=\\\"fa fa-save\\\"></i>\\r\\n                {{isEdit?'Editar':'Agregar'}}\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n          <hr>\\r\\n        </form>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default btn-simple\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CategoriesComponent } from './categories/categories.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms'\r\n\r\nconst routes: Routes = [{path: '', component: CategoriesComponent}]\r\n@NgModule({\r\n  declarations: [CategoriesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class CategoriesModule { }\r\n","export default \"\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzL2NhdGVnb3JpZXMuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { CategoriesService } from 'app/services/categories/categories.service'\r\nimport swal from 'sweetalert2';\r\n\r\ndeclare var $: any;\r\nexport interface DataTable {\r\n  headerRow: string[];\r\n  footerRow?: string[];\r\n  dataRows: string[][];\r\n}\r\n@Component({\r\n  selector: 'app-categories',\r\n  templateUrl: './categories.component.html',\r\n  styleUrls: ['./categories.component.css']\r\n})\r\nexport class CategoriesComponent implements OnInit {\r\n  public dataTable: DataTable;\r\n  public tablaDatos;\r\n  public category: Category;\r\n  public isEdit = false;\r\n  public arrayCategories: Category[];\r\n  constructor(private categoryService: CategoriesService ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.category = {}\r\n    this.dataTable = {\r\n      headerRow: [\r\n        \"#\",\r\n        \"ID\",\r\n        \"Nombre\",\r\n        \"Editar\",\r\n        \"Eliminar\",\r\n      ],\r\n      dataRows: [],\r\n    };\r\n    this.getCategories()\r\n  }\r\n\r\n    /**\r\n   * Optenemos el id de la nueva categoria\r\n   */\r\n  public newCategory() {\r\n    this.isEdit = false;\r\n    // optenemos una marca de tiempo timeStamp\r\n    var id = new Date().getTime();\r\n    this.category = {\r\n      id_category: id.toString(),\r\n      nombre: \"\",\r\n    };\r\n    this.getCategories()\r\n  }\r\n\r\n  public addCategory(formValue: Category, formValid: boolean) {\r\n    if (formValid) {\r\n      this.categoryService.saveCategories(formValue).then(() => {\r\n          swal(\"OK\", \"Registro Exitoso\", \"success\");\r\n          this.category = {};\r\n          $(\"#modalProduct\").modal(\"hide\");\r\n         });\r\n    }\r\n\r\n  }\r\n\r\n  public getCategories() {\r\n    this.categoryService.getCategories().subscribe(categories => {\r\n      this.arrayCategories = categories;\r\n    })\r\n  }\r\n\r\n  public selectCategory(category: Category) {\r\n    this.isEdit = true;\r\n    this.category = category;\r\n    this.categoryService.updateCategory(category)\r\n  }\r\n\r\n  public deleteCategory(category_id: string) {\r\n    swal({\r\n      title: 'Alerta',\r\n      text: '¿Esta seguro que desea eliminar la categoría?',\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonClass: 'btn btn-fill btn-success btn-mr-5',\r\n      cancelButtonClass: 'btn btn-fill btn-danger',\r\n      confirmButtonText: 'Sí, eliminar!',\r\n      buttonsStyling: false,\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.categoryService.deleteCategory(category_id)\r\n      }\r\n    })\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}